/*!
 * jq.ui.checks
 *
 * @version      0.3
 * @author       nori (norimania@gmail.com)
 * @copyright    5509 (http://5509.me/)
 * @license      The MIT License
 * @link         https://github.com/5509/jq.ui.checks
 *
 * 2012-04-03 00:10
 */(function(a,b,c){function f(a,b){this.namespace="Checks";return this instanceof f?this.init(a,b):new f(a,b)}function h(a,b){this.namespace="Checkbox";return this instanceof h?this.init(a,b):new h(a,b)}function j(a,b){this.namespace="Radio";return this instanceof j?this.init(a,b):new j(a,b)}var d,e;d=Object.prototype.hasOwnProperty;e=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a};f.prototype={conf:{uiClass:"ui_check",labelClass:"ui_check_label",checkedClass:"ui_checked",disabledClass:"ui_check_disabled"},init:function(b,c){var d=this;d.$elems=b;d.conf=a.extend(d.conf,c);d.elemMaps={};a.each(b,function(a,b){var c=d._matching(b),e=c.$check,f=c.$label,g=c.$view;f&&f.addClass(d.conf.labelClass);e.hide().after(g)});d._eventify()},_view:function(b){var c=this,d=a("<span></span>").addClass(this.conf.uiClass);b.disabled&&d.addClass(c.conf.disabledClass);b.checked&&d.addClass(c.conf.checkedClass);return d},_matching:function(b){var c=this,d=b.id;c.elemMaps[d]={id:d,$check:a(b),$view:c._view(b),$label:a("label[for="+d+"]")};return c.elemMaps[d]},_eventify:function(){var b=this;a.each(b.elemMaps,function(c,d){var e=d.id,f=d.$check,g=d.$label,h=d.$view,i=d.disabled;f.bind({"click.check":function(a){a.stopPropagation();if(i)return;f.trigger("check:toggle")},"check:toggle":function(a){h.hasClass(b.conf.checkedClass)?b._checkOff(e):b._checkOn(e)},"check:on":function(){b._checkOn(e)},"check:off":function(){b._checkOff(e)},"check:enable":function(){b._enable(e)},"check:disable":function(){b._disable(e)}});!a.support.opacity&&g.length&&g.click(function(a){a.stopPropagation();f.trigger("click")})})},_checkOn:function(a){var b=this,c=b.elemMaps[a];c.$view.addClass(b.conf.checkedClass);c.$check.prop("checked","checked")},_checkOff:function(a){var b=this,c=b.elemMaps[a];c.$view.removeClass(b.conf.checkedClass);c.$check.prop("checked","")},_enable:function(a){var b=this,c=b.elemMaps[a],d=c.$view,e=c.$check;d.removeClass(b.conf.disabledClass);e.prop("disabled","")},_disable:function(a){var b=this,c=b.elemMaps[a],d=c.$view,e=c.$check;d.addClass(b.conf.disabledClass);e.prop("disabled","disabled")},_callAPI:function(a,b){var c=this;if(typeof c[a]!="function")throw new Error(a+" does not exist of "+c.namespace+" methods.");if(/^_/.test(a)&&typeof c[a]=="function")throw new Error("Method begins with an underscore are not exposed.");return c[a](b)},checkOn:function(a){var b=this;b._checkOn(a)},checkOff:function(a){var b=this;b._checkOff(a)},enable:function(a){var b=this;b._enable(a)},enableAll:function(){var b=this;a.each(b.elemMaps,function(a,c){b.enable(c.id)})},disable:function(a){var b=this;b._disable(a)},disableAll:function(){var b=this;a.each(b.elemMaps,function(a,c){b.disable(c.id)})},destroy:function(){var b=this,c=b.namespace.toLowerCase();b.$elems.removeData(c);a.each(b.elemMaps,function(a,b){b.$view.remove();b.$check.show().unbind(["click.check","check:toggle","check:on","check:off","check:enable","check:disable"].join(" "))})}};var g;e(h,f);g=h.prototype;g.toggleCheckAll=function(){var a=this;a.$elems.trigger("check:toggle")};g.checkOnAll=function(){var a=this;a.$elems.trigger("check:on")};g.checkOffAll=function(){var a=this;a.$elems.trigger("check:off")};var i;e(j,f);i=j.prototype;i.conf={uiClass:"ui_radio",labelClass:"ui_radio_label",checkedClass:"ui_checked",disabledClass:"ui_radio_disabled"};i._checkOn=function(b){var c=this,d=c.elemMaps[b];a.each(c.elemMaps,function(a,b){c._checkOff(b.id)});d.$view.addClass(c.conf.checkedClass);d.$check.prop("checked","checked")};a.fn.checkbox=function(a,b){var c;c=this.data("checkbox");if(c)return c._callAPI(a,b);if(typeof a=="string")return;c=h(this,a);this.data("checkbox",c);return this};a.fn.radio=function(a,b){var c;c=this.data("radio");if(c)return c._callAPI(a,b);if(typeof a=="string")return;c=j(this,a);this.data("radio",c);return this}})(jQuery,this,this.document);